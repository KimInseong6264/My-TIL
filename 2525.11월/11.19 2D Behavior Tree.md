# 2025-11-19 TIL

## 오늘 배운 내용
- Behaviour Tree 구조 스크립트 작성
- 유니티6버전의 Behaviour Graph로 몬스터AI로직 구성

## 느낀 점
이번 Behaviour Tree 구조는 어제 배운 FSM과 State 패턴의 연장선이었던 것을 알 수 있었다.
<br>
게임AI를 구성하는 과정 중에 상태가 점차 복잡해지게 될수록 FSM방식로는 한계가 있을 것이다.
<br>
그래서 복잡해지는 상태들을 더욱 세분화하고 특정 반응에 맞춰서 상태변환과 동작을 Tree구조로 만든 것이 "Behaviour Tree"구조이다.
<br>
<br>
도식화되는 구조만 볼 때에는 각 노드에서 반환되는 상태에 따라 행동을 결정하는 간단한 방식으로 보였지만...
<br>
막상 이를 스크립트로 작성했을 때는 어제 배웠던 FSM, State 패턴보다 복잡하고 동작 방식도 머리에 잘 안 그려졌다.
<br>
<br>
하지만 핵심이 되는 것은 FSM과 State패턴 둘과 마찬가지로 각 노드들이 반환하는 **'상태'를 기준으로 논리연산(Sequence, Selector)을** 한다는 것이다.
<br>
이것을 기준으로 생각하고 코드를 구성한다면 위의 두가지 패턴보다도 더 다양한 게임AI를 만들어낼 수 있을 것이다.
<br>
<br>
거기에 더해 유니티6는 Behaviour Graph라는 패키지를 지원해줘서 가뭄의 단비와 같이, 혼란스럽던 내 머릿속을 깔끔하게 정리해주는 것만 같았다.
<br>
스크립트만으로는 머리에 잘 안 그려지던 것이, Behaviour Graph만으로 이 패턴의 장점을 명확히 알 수 있었다.
<br>
<br>
오늘은 구현해야 할 내용이 적었지만 그 내용이 점차 많아지면 Behaviour Graph로 깔끔하게 도식화 및 동작 구현을 할 수 있을 것 같았다.
<br>
이 Behaviour Tree를 사용한다면, 가장 크게는 복잡한 보스 패턴의 구현, 맵or기후 변화, 여러 상호작용AI등등 많은 게임AI요소 구현에 사용하기 좋을 것 같았다.

---

## 내용정리 블로그 링크
- Unity[2D]3-1 Behaviour Tree <br>
https://kiminseong6264.github.io/Blog/?post=%5B20251119%5D_%5BUnity%5B2D%5D3-1+Behaviour+Tree%5D_%5BUnity%5B2D%5D%5D_%5B%5D_%5B%EB%B3%B5%EC%9E%A1%ED%95%9C+AI%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%84+%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0+%EC%9C%84%ED%95%9C+%EC%84%A0%ED%83%9D%5D_%5B%5D.md

