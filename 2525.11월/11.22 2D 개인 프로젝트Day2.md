# 2025-11-21 TIL

## 오늘 배운 내용
- SpawnManager 상태 패턴 기반 구현
- 유닛 클래스 MVC 패턴 적용

## 느낀 점

### 1. 예상보다 상태 패턴을 많이 쓰는 나였다...

이미 스킬 클래스에서 상태 패턴을 구현하면서 상태 패턴을 언제 구현하면 좋을지 많은 생각을 한 이후다보니,
<br>
SpawnManager도 상태 패턴으로 만들게 되었다.
<br>
<br>
상태 패턴으로 굳이 만들게 된 이유는 스폰을 하는 구조가 턴제이다보니,
<br>
**생성해야 하는 유닛은 한정적이고 그 수가 많지 않기 때문에** 유닛을 소환해야 할 숫자에 맞춰서 상태를 나누기로 결정했다.
<br>
<br>
스폰하는 숫자에 따라 배치되는 위치가 조금씩 달라지기 때문에, 생성 유닛 수마다 다른 상태를 주면
<br>
추후 **생성 유닛 수 증가 및 상황별로 클래스가 분리 되어 유지보수에 유리**할 것이라 판단했다.
<br>
결과적으로 코드를 작성하는 과정도 각 상태별로 다르게 정의 해주면 되기에 어렵지 않게 구성할 수 있었다.
<br>
(이번 기회에 C#에서 처음으로 삼각비를 사용하기도 해서 추가적인 경험도 있었다.)

### 2. MVC 패턴을 적용하고 싶었다.

이전부터 나는 MVC패턴은 꼭 사용해보고 싶었다.
<br>
다른 패턴들에 비해 신경 써야 할 부분은 많아지지만(Model, View, Controler 각각을 연결하는 것)
<br>
한 번 제대로 만들고 사용에 익숙해진다면 **핵심적인 기능별로 클래스를 분리해서 관리**할 수 있다는 장점이 내 마음을 사로잡았다.
<br>
<br>
그래서 개인 프로젝트 이전부터 MVC 패턴에 대해 개인적으로 찾아보거나, 강의영상을 다시 보면서 공부를 쭉 해왔다.
<br>
하지만...사실 직접 구현을 해보려고 하니 뭘 어떻게 해야할지 감이 잘 안 잡히는 게 현실이었다.
<br>
<br>
무엇을 Model에 넣고, View는 어디까지 코드를 담아내야 하는지...Controler는 어떻게 이 두 가지를 연결할 수 있는지...
<br>
클래스를 나눠놓긴 했지만 막상 무엇을 담을지 계속해서 고민했던 것 같다.
<br>
<br>
그럼에도 그 시간들이 헛된 것이 아닌 게, **내가 만들었던 캐릭터 클래스의 코드들이 결국 Model 자체였음을 깨달았다.**
<br>
찬찬히 코드를 살펴보니 Unit의 데이터들만이 SO와 인터페이스들로 구성되어 있고,
<br>
실질적인 메서드 수행등은 Unit에서 사용되고 있던 것이 없었다.
<br>
이를 깨달은 후부터는 **MVC에 대해 좀 더 그림이 그려지는 것을 느꼈다.**
<br>
<br>
하지만 Model이 해결되니, 그 다음은 View였다...
<br>
처음에 혼동된 것은 **View를 UI와 헷갈렸던 것**이 화근이 되어, UIManager에 달아주어야 할지 고민을 했다.
<br>
그렇지만 그건 오히려 UIManager만 비대해지는 결과를 초래할 것 같다고 생각했고
<br>
해당 오브젝트들에게 들려주는 게 제일 좋겠다고 판단했다.
<br>
<br>
이후로 문제가 된 것은 애니메이션이었는데, View에서 담당하는 것은 좋다고 생각이 들었지만
<br>
애니메이션이 진행될 때, 구체적으로 말하면 캐릭터가 Move를 할 때 포지션이 이동하는 것까지 함께 구현해야 하는지 생각해보았다.
<br>
결론은 **그렇지 않다**였다! 이 생각 자체가 MVC 패턴과는 부합하지 않는 것이란 걸 늦지 않게 깨달을 수 있었다.
<br>
<br>
Move의 애니메이션의 **모션**은 View에서 호출 할 수 있더라도, 
<br>
포지션값을 변경하는 **이동 자체는 Model에 담겨놓게 하는 것**이 맞다고 판단했다.
<br>
View는 순전히 보여지는 것만을 담당하며, 다르게 해석하면 **View는 없더라도 코드가 동작하는데는 문제가 없어야 한다.**
<br>
이렇게 개념을 잡으니, View에 어떤 코드들이 들어가야 할지 명학해졌던 것 같다.

### 3. 마치며...

사실 오늘은 다른 일정들로 인해 많은 시간 투자를 하지 못했다.
<br> 
하지만 그럼에도 배운 것은 많은 시간들이었다.
<br>
특히 MVC 패턴을 사용할 수 있는 방법들을 익힐 수 있었던 것이 큰 공부가 되고 기대가 된다.
<br>
<br>
아직 MVC 패턴을 생성만 해놓았지, 제대로 된 코드는 많이 작성하지 못했고 Controler는 코드 적은 것도 없었다..
<br>
하지만 **MVC를 설계하는 게 재밌기도 하고, 신기하기도 하면서 제대로 만들어냈을 때 얼마나 뿌듯할지가 기대가 되었다.**
<br>
<br>
분명 어려운 디자인 패턴이라고 느껴지기는 하지만 조금씩 엉켜있던 실이 풀리듯이 MVC에 대해 알아가는 것 같았고
<br>
이러한 방향성 자체가 굉장히 잘 하고 있다고 개인적으로 생각한다.
<br>
<br>
다음주 목요일까지 길다면 길고, 짧다면 짧은 정도의 시간이 남았지만 남은 시간 최선을 다해
<br>
프로젝트에 신경쓰면서 좋은 결과물로 마무리 할 수 있도록 노력할 것이고,
<br>
그보다 먼저는 **이번 프로젝트를 통해 더 많은 공부와 성장을 하는 시간들로 사용하고 싶다는 다짐**을 해본다!


---

## 내용정리 블로그 링크






